{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="reset-wrapper">
    <div class="reset-center">
        <div class="card shadow p-5 reset-card">

            {% if token_fail %}
                <h2 class="text-center mb-4">Invalid Link</h2>
                <p class="text-center mb-4">The password reset link is invalid or has expired.</p>

                <a href="{% url 'account_reset_password' %}" 
                   class="btn text-white w-100"
                   style="background:#088178;">
                    Request new link
                </a>

            {% else %}

                <h2 class="text-center mb-4">Set New Password</h2>

                <form method="POST" action="">
                    {% csrf_token %}
                    {{ form.non_field_errors }}

                    <label class="form-label">New Password</label>
                    <input type="password" name="password1" class="form-control mb-3" required>

                    <label class="form-label">Confirm Password</label>
                    <input type="password" name="password2" class="form-control mb-4" required>

                    <button class="btn text-white w-100" style="background:#088178;">
                        Change Password
                    </button>
                </form>

            {% endif %}

        </div>
    </div>
</section>

<style>
.reset-wrapper {
    height: 80vh;
    display: flex;
    justify-content: center;
    align-items: center;
}
.reset-center {
    width: 100%;
    display: flex;
    justify-content: center;
}
.reset-card {
    max-width: 500px;
    width: 100%;
    border-radius: 15px;
}
</style>
{% endblock %}
