{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    [x-cloak] {
      display: none !important;
    }
  </style>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  {% block title %}
  <title>Stellaric Apparel Co.</title>
  {% endblock %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://kit.fontawesome.com/4f835695b2.js" crossorigin="anonymous"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Agbalumo&family=League+Spartan:wght@100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  {% block css %}{% endblock %}
</head>

<body>

    <!-- NAVBAR -->
    <section id="header">
        <a href="{% url 'index' %}">
            <img src="{% static 'img/logo.png' %}" class="logo">
        </a>

        <div>
          <ul id="navbar1">
            <li><a href="{% url 'index' %}" class="{% if request.path == '/' %} active {% endif %}"> Home </a></li>
            <li><a href="{% url 'shop' %}" class="{% if request.path == '/shop/' %} active {% endif %}"> Shop </a></li>
            <li><a href="{% url 'about' %}" class="{% if request.path == '/about/' %} active {% endif %}"> About </a></li>
            <li><a href="https://www.instagram.com"> Contact</a></li>
            <li id="lg-bag"><a href="{% url 'cart' %}" class="{% if request.path == '/cart/' %} active {% endif %}"> <i class="fa-solid fa-cart-shopping"></i> </a></li>
            <li><a href="{% url 'userSection' %}" class="{% if request.path == '/user/' %} active {% endif %}"> <i class="fa-solid fa-circle-user"></i></a></li>
            <a href="#" id="close"><i class="fas fa-times"></i></a>
            <li>
              <div x-data = "{ isStaff: {{ request.user.is_staff|yesno:'true,false'}} }">
                <a x-show="isStaff" href="{% url 'crm-dashboard' %}" class="{% if request.path == '/crm/dashboard'%} active {% endif %}" style="text-decoration: none;">CRM</a>
              </div>
            </li>
          </ul>
        </div>

        <div id="mobile">
          <a href="{% url 'cart' %}"> <i class="fa-solid fa-cart-shopping"></i> </a>
          <a href="#"><i id="bar" class="fas fa-outdent"></i></a>
        </div>
    </section>


    <!-- TOASTER  -->
<!-- Toast Container -->
<div x-data="{dismissed:false}" x-show="!dismissed">
  <div class="toast-container position-fixed top-25 end-0 p-3" style="z-index: 9999;">
    {% if messages %}
        {% for message in messages %}
            <div class="toast align-items-center custom-toast-{{ message.tags }} border-0 show"
                role="alert" aria-live="assertive" aria-atomic="true" data-bs-delay="4000">
                <div class="d-flex">
                    <div class="toast-body">
                        {% if message.tags == 'warning'%}
                        <i class="fa-solid fa-triangle-exclamation"></i> {{ message }} 
                        {% elif message.tags == 'success'%}
                        <i class="fa-solid fa-check"></i> {{ message }}
                        {% endif %}
                    </div>

                    <!-- Close button (black) -->
                    <button @click="dismissed = true" type="button" class="btn-close me-2 m-auto" class="btn-close-custom" style="filter: invert(1) grayscale(100%) brightness(0%);"></button>
                </div>
            </div>
        {% endfor %}
    {% endif %}
  </div>
</div>


<!-- Toaster Styles -->

<style>
.top-25 { top: 15vh; }

.custom-toast-success {
    background-color: #d1f3d1 !important;
    color: #1b5e20 !important;
}

/* WARNING: soft yellow (pastel) */
.custom-toast-warning {
    background-color: #fff7d6 !important;
    color: #8a6d00 !important;
}

/* ERROR: light red */
.custom-toast-error,
.custom-toast-danger {
    background-color: #ffdddd !important;
    color: #b71c1c !important;
}

/* INFO: soft blue */
.custom-toast-info {
    background-color: #d9ecff !important;
    color: #0b4870 !important;
}

/* Make the close button black */
.toast .btn-close {
    filter: invert(1) grayscale(100%) brightness(0%);
}

</style>   
    <!-- PAGE CONTENT -->
    <div id="page-wrapper">
      {% block content %}
      {% endblock %}  
    </div> 

    <!--  Newsletter -->
    <section id="newsletter" class="section-p1 section-m1">
      <div class="newstext">
          <h4>Sign up for newsletter</h4>
          <p>Get E-mail updates about our latest <span>special offers.</span></p>
      </div>
      <div class="form">
          <input type="text" placeholder="Your email address" style="padding: 14px 20px; border: 1px solid #ddd; border-radius: 4px; width: 350px; background-color: white; font-size: 14px; height: 48px;">
          <button class="normal" style="background-color: #088178; color: white; padding: 14px 30px; border-radius: 4px; border: none; cursor: pointer; margin-left: 10px; height: 48px;">Sign Up</button>
      </div>
    </section>
    <!-- SCRIPTS -->
    <script src="{% static 'js/script.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    {% block js %}{% endblock %}
</body>

</html>
